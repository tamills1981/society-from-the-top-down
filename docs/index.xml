<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Society From the Top Down</title>
<link>https://github.com/tamills1981/society-from-the-top-down/</link>
<atom:link href="https://github.com/tamills1981/society-from-the-top-down/index.xml" rel="self" type="application/rss+xml"/>
<description>I&#39;m Tom Mills, a sociologist in the UK. This is my personal website.</description>
<generator>quarto-1.8.26</generator>
<lastBuildDate>Wed, 21 Jan 2026 00:00:00 GMT</lastBuildDate>
<item>
  <title>Capital and Conservatism</title>
  <link>https://github.com/tamills1981/society-from-the-top-down/posts/capital-and-conservatism/</link>
  <description><![CDATA[ 





<p>I was trying to dig something up from my <a href="https://x.com/ta_mills">Twitter feed</a> the other day and came across this talk I did back in 2021 for a panel at <a href="https://theworldtransformed.org">The World Transformed</a> called ‘How Do We Understand the Right?’. At the time, one thing I was giving a lot of thought was how we should understand the relationship between conservativism and capital/capitalists.</p>
<p>This is part of a broader question around the relationship between capital (or big business) and politics and the state, which was a major preoccupation in Western Marxism in the 1970s (relative autonomy and all that), but which quickly descending into fairly abstract theoretical debate around state theory and then fizzled out in the 1980s. Meanwhile, a parallel tradition in social science - also with intellectual roots in the work of C. Wright Mills - examined the political power of big business, and within scholarship on corporate networks in particular there has been a micro-debate, prompted by Mark Mizrachi, around whether business elites in the US have become ‘fractured’, with the implication that this lack of leadership and intra-class cohesion has led to a long period of extreme inequality and political crisis.</p>
<p>A similar sort of argument has been made by Aeron Davis in the UK where during the 2010s and early 2020s, the period of austerity and then Brexit posed the question of to what extent we should understand these disrputive and economically harmful events as reflecting the culture of political elites, or the interests of business. Then of course there was Jeremy Corbyn’s leadership of the Labour Party, and the hysterical response from the whole political-media establishment, which posed similar questions in strategic terms for the left, including on the role of the news media.</p>
<p>My view on all this is firstly that these questions can’t be answered through abstract theorising, and secondly that the instinctive suspicion of any recognition of elite or ruling class agency that both social science and the left share is as much a block to a rigorious analysis as conspiratorial thinking that overemphasies such agency and power. I’d previously written a piece for <em>Jacobin</em> called <a href="https://jacobin.com/2018/10/ruling-class-elites-conspiracies-antisemitism-marxism/">‘Can the Ruling Class Speak?’</a> that touches on some of this and argues for recognising such agency.</p>
<p>Anyway, in this talk I tried to sketch out how I think the left should understand conservatism in capitalist societies. Below is an edited transcript of my contribution, or you can watch the whole video below. I’m on at around 30mins in.</p>
<p>This is something I’m hoping I’ll be able to return to this year.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/_xATfFJArAo" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<section id="edited-transcript" class="level3">
<h3 class="anchored" data-anchor-id="edited-transcript">Edited Transcript</h3>
<p>Thank you. It’s great to be here and in such good company. And it’s really nice… I mean if anyone knows me, I’m normally at these kinds of events as the left’s BBC guy. So it’s nice to be let out my BBC box and broaden a little bit, so thanks for having me.</p>
<p>I am going to talk about the media a little bit, but really what I wanted to try and do was think about how we on the left should analyse the media and analyse the relationship between the media, political practice, capital and conservatism – to think about the relationship between these things.</p>
<p>I’m really glad we’re having this panel because I think there’s a tendency for us on the left to get all dreary and upset and self-flagellating about all the problems, which God knows that we have, with ourselves, and to sometimes lose track of thinking about the enemy. And there is a political enemy. These people are human beings like us and they operate in institutions and they have objectives, which they try and fulfil and they operate strategically.</p>
<p>We need to do the same and if we’re going to do that effectively we need to think about who these people are, what they want, and how they get it, and that’s why I think this panel is really important now.</p>
<p>I think it’s useful first of all for us on the left to start with the recognition that capital and conservativism are distinct. Now in practice they overlap considerably and I think particularly in in this country that’s why we don’t tend to think about them as such, but it’s important that we see them as being distinct analytically, and overlapping in practice as an actually existing set of institutions and movements.</p>
<p>So capitalists can be conservatives and they often are conservative supporters – not all of them but the vast majority of them – and conservatives can be capitalists. They, conservatives, tend not to be capitalists, or at least conservative supporters tend not to be capitalists. That’s what we’ve been discussing so far; that effort to reach out beyond that narrow class interest.</p>
<p>Now we have to remember that so as not to fall into two traps. Number one is not to think of everything as being the result of a ruling class or elite capitalist interests, and the second one, which I think is the trap which probably people at TWT aren’t going to fall into so much, is thinking about the enemy as being purely a set of bigoted conservative ideas or institutions – so say like the Daily Mail for example. This is kind of a liberal fallacy and if you’re there then hopefully we’ll get you out of that point by the time we finish this panel and have a discussion.</p>
<p>We have to understand these social groups as being distinct from each other, but having overlapping interests, and then that plays out through the political system and in society. So, capitalists in the narrow sense that Marx uses the term, like any elite, like any ruling class, as Owen said at the beginning, they are a minority interest in society. This is the sort of kernel of Marxist analysis. They have to build beyond that and they can do that in different ways.</p>
<p>The many contradictions of conservatism are basically rooted in that effort to build popular support for a minority interest. It’s a structural feature of capitalism that they have to do this. They can try and do it through liberalism with an appeal to universalist ideas, and that leads to all kinds of contradictions about what freedom means. But usually the best the way they can do this is through an appeal to social hierarchies, as Richard laid out at the beginning.</p>
<p>Now this this panel isn’t about liberalism, but I think it’s important to mention that the relationship between capitalism or capital and conservatism is contingent. It could go in different directions. You can appeal to liberalism and you have liberal capitalists. But that need to represent a minority interest of a class as being universal is fundamental to capitalism and that is what conservatism is rooted in ideologically, that’s the structural feature of it.</p>
<p>So what are the interests of capital? Well the accumulation of more capital. We can go and read Capital and we can all swat up on that. In basic terms, making profit and expanding their market share. So capitalist interests, the capitalist ruling class, you know they do have a sort of structured rationality to them because they operate in market structures and in that sense we can think of capitalists as being a more rational ruling class. They calculate, they have balance books, they read the FT, they keep their eye on the markets, they look at their investment. They have these structured sets of interests. But we can’t simply appeal to capitalist interest and expect them to do X, Y or Z. These are real human beings as Richard said earlier. They are embodied in in a very specific social context. They’re not all seeing, they’re not all knowing. They don’t necessarily know what their interests are, and they’re also not as homogeneous as abstract class theory can sometimes make them seem. They’re different from each other. Now Marx called capitalists a band of warring brothers or some sort of words to that effect. Richard will probably know the actual quote. Maybe some of the other panellists may. But they have conflicting interests structured by nation and industrial sector and so on. They’re also very unequal in terms of their wealth and power. More than workers actually. So if you look at wealth differences, the closer you get to the top of that 1%, that 0.1%, and up and up and up you go, all the capitalists are incredibly unequal until you get up to those billionaires. So they’re a very fractured class and they need to develop a collective sense of their own project.</p>
<p>We can think of capitalists as having a core and a periphery if you like. At the core you’ve got the financiers and the billionaires. Then you’ve got parochial business interests and everything in between. Then beyond that minority class interest you’ve got other classes I’ll talk about in a minute. But the point is they have to negotiate and articulate a set of interests through an actual existing set of institutions and they need to mobilize their interests in politics and civil society.</p>
<p>They do that through a number of institutions. They do that through the Conservative Party, which is a subject of a recent book by Phil Burton-Cartilage I recommend you read, published by Verso. They do that in less public organisations. They do that in business and industrial associations, they do it through media organisations, which is my area, they do it through public affairs consultancies so lobbyists – that’s just basically a euphemism for lobbyists – through think tanks and so on. This is the infrastructure of the conservative movement and that overlaps with capitalism in this country.</p>
<p>The point is that their interests aren’t self-evident. They are not unchanging. They have organisations and groups to do this, like we do, they have their own TWTs, but they don’t look like this obviously and they don’t look like us – at least I hope they don’t, I hope we don’t.</p>
<p>Now beyond those core capitalist interest they have to build broader coalitions and this is what Gramsci referred to as historic bloc. So beyond the capitalists themselves you’ve got – sticking with Marxist categories – you’ve got the petty bourgeoisie, the little capitalists right, the owners of small businesses. Then you’ve got the middle-class people. Workers supposedly part of our class. Now these are the people in the upper parts of the class structure who share very close interests with capital: corporate lawyers, accountants, senior corporate managers, advertisers – some of my best friends I’ve nothing personally against these people – public relations consultants, wealth managers. This is the natural, consistent, constituency.</p>
<p>And then beyond that you’ve got to reach out to build broader political support, working-class support, the lower middle classes. That’s where conservative ideology fits in. Now I’m not going to linger too much on conservative ideology because the other speakers have done a good job so far and I’m not even the last speaker. But I did want to share this very popular quote from Aneurin Bevan: ‘How can wealth persuade poverty to use its political freedom to keep wealth in power? Herein lies the whole art of conservative politics in the 20th century.’</p>
<p>Now of course it’s not just about wealth right it’s also about a whole set of racialized and gendered conceptions of social authority that allows them to build up this broader support and that’s been mentioned before. This is ultimately what conservatism is about.</p>
<p>Now I think one important point I’d like to make if there’s a takeaway from my talk is that what we should never do on the left is attack the right based on the inconsistency and incoherence of their ideas. Yes capitalist interests are sort of rational. But the political practice of defending the rule of capital and defending power more broadly; that is not a project that needs coherence. It’s a reactive project. It’s more about neutralizing threats and making politically convenient arguments in political struggle than it is about building consent in any coherent or meaningful way. This is why they seem so wild all the time and why they don’t care about lying. There’s a structural reason that conservatism is so dishonest. It’s politically dishonest because it’s trying to build beyond the narrow constituency and sell that as being in the broader interest.</p>
<p>I’m not just saying that they lie all the time, which they do. Let’s think back to the 2019 election where there was that study looking at political advertising that found, I don’t know what it was it was like 83% or something like that of conservative political advertising was misleading. Labour was much, much lower. They have to lie in order to build this coalition. They don’t need to be coherent. So people need to stop attacking them for being contradictory or hypocritical or any of these things. They don’t care about that stuff. What they care about is winning, and that’s what we should care about. But we should not abandon ourselves our commitment to truth in doing so. Let’s leave that to them.</p>
<p>Now I need to get on to the media, because I’m the media guy. What role does the media play in this process of reaching beyond this narrow class interest and broadening it? Now I think it’s useful for us to think about the media in broader terms than just as one system. Different media organisations do different things. The right has their elite media, so that’s the Spectator and the Telegraph and to some extent The Times. The current ruling clique of the Conservative Party is very networked into the Spectator and the Telegraph. Then there’s the liberal stuff. I’m not going to talk about liberals, but remember we’ve got The Economist we’ve got the FT, and The Times is kind of in the middle. Then there’s the popular press which has been a real strength of the right in this country. The Sun and the Daily Mail perform such an important function for the right. There’s all these debates about how powerful they are, how much do they persuade people. Well the jury was out for a while, but there was some research published by Aaron Reeves and colleagues a few years ago, I think it was 2006 maybe, which looked at Sun readers and what they found was that the switch of the Sun’s loyalty in the case of the 2010 election and the 1997 election was able to deliver seven points and fifteen percentage points respectively, controlling for values. So no change in political attitudes. This is very small parts of the population, but they do they do have that concrete role. They can swing elections.</p>
<p>But that’s a very small electoral impact. That’s a very narrow measure. What the reactionary media does is they play a constant role in misrepresenting issues and particularly in smearing the left. They don’t necessarily have to convince anybody that left-wing ideas are bad. They just need to convince people that the people who are pushing them are bad and we saw that all the time. We’re all going to be very familiar with that.</p>
<p>These institutions, the Murdoch media and the Daily Mail, the reason they play this very important function isn’t by the way just for swinging elections, that’s a very narrow thing. They play a much broader role in the practice of conservatives. And why do they do that? They are organisations of the ruling class in the narrow sense they’re owned by oligarchs. These are billionaire tax avoiders. But also by the nature of their market position. They have to appeal to a broad audience, that’s what these businesses do. So they’re used by the Conservative Party as sort of feelers for that process of appealing to popular reaction and building up those constituencies and those attitudes. That’s what conservatism feeds off, so it’s a very important function that they perform in what we might call the capital-conservative power structure. They help to keep the Tories ‘in touch’ to use that horrible cliche that’s always used on the BBC and so on.</p>
<p>Alright I’m going to wrap up right because I feel like I’ve talked for quite a long time. What can we conclude from this? I think we need to be a little bit careful in terms of not thinking about a battle of ideas. The right doesn’t think in these terms. They think about interests and they think about the ideas that bind together and serve those interests in particular context.</p>
<p>So I think the left needs to start thinking about where we’re strongest and that’s probably in areas like you know the appeals that we can make to the public, those sets of ideas. We don’t we don’t have a lot of social power in our institutions at the moment. Perhaps certain trends in political demography will change that. But what we really need to think about is where the enemy are weakest and this means being attentive to their ideas and interests and the way that this capital-conservative coalition is structured in this country. I think we also need to avoid thinking about the UK or other capitalist countries as being inherently and irrevocably conservative. The right has to work to win. They work hard to do that and they have an advantage almost axiomatically by the fact that they are the people in power. So we’re at a disadvantage and that’s why I think research on them and strategic thinking about how the right operate is so important. I think we need more of that and I’m really glad to be part of this panel which I hope is the start of a conversation and a longer process.</p>


</section>

 ]]></description>
  <category>elites</category>
  <category>capital</category>
  <category>conservatism</category>
  <category>media</category>
  <guid>https://github.com/tamills1981/society-from-the-top-down/posts/capital-and-conservatism/</guid>
  <pubDate>Wed, 21 Jan 2026 00:00:00 GMT</pubDate>
  <media:content url="https://github.com/tamills1981/society-from-the-top-down/posts/capital-and-conservatism/panel.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Labour Together’s Donor Network</title>
  <link>https://github.com/tamills1981/society-from-the-top-down/posts/labour-together-donor-network/</link>
  <description><![CDATA[ 





<p>In this post I’ll produce a network revealing the relationship between donors to the right-wing Labour think tank, Labour Together, and other politicians and political organisations they have funded.</p>
<p>A lot of really shocking details about Labour Together and the party faction it represents have been revealed in Paul Holden’s book, <em>The Fraud</em>. Labour Together was set up by Morgan McSweeney who emerged as a key figure on the Labour Right during Jeremy Corbyn’s turbulent period as party leader, then becoming chief of staff to Prime Minister Keir Starmer. Basically McSweeney orchestrated the right-wing takeover of the party that followed the 2019 General Election (planned much earlier), and Labour Together was the key vehicle he used.</p>
<p>As Holden details, McSweeney won considerable funding from some key wealthy donors, disguising this fact from Labour members by not disclosing the donations to the Electoral Commission, as he was legally required to do. This was key, because his whole strategy was to convince Labour members that Starmer would be a more professional and competent front man for a centre-left project that retained the popular policy positions of the Corbyn leadership. Starmer produced a series of ‘pledges’ to the Labour membership, each one of which would be broken, either in letter or in spirit, and repeatedly talked up his left credentials and intentions, so the faction he now represented could take control of the party machinery. This, as the title suggests, was a fraud. Cards on the table, I’m not a fan.</p>
<p><img src="https://github.com/tamills1981/society-from-the-top-down/posts/labour-together-donor-network/politics_for_sale.png" class="img-fluid" style="float: right; width: 35%; margin-left: 1em;"></p>
<p>Political donations can reveal a lot about parties and party factions. It’s not that you can reduce everything to the money that changes hands in politics. But donations are a fundamental feature of political organisation, and can be revealing the political networks of which they are part. To be honest, a reductionist ‘follow the money’ attitude is probably less reductive than ignoring political finance altogether.</p>
<p>I’ve been interested in political donations for a long time and a few years ago I got a little money from my university to bring together some academics and data scientists to work on restructuring, augmenting and analysing the donations data regularly published by the Electoral Commission. This data is released quarterly and is usually the basis of some journalistic interest. But for that project I wanted to do something which hadn’t been done before, which is to go beyond the relationships between parties and individual donors and look more systematically at the relative political mobilisation of different business sectors. What’s immediately clear though once you start working with this data is how poor quality it is. We spent quite a long time trying to resolve various issues and ended up producing a much cleaner dataset, augmented with data from other sources. You can read the report Autonomy published on the project <a href="https://autonomy.work/portfolio/politics-for-sale/">here</a> (pictured above).</p>
<p>For this post, we’ll use the original Electoral Commission data and just do some basic cleaning before using the donor and donee names, and the sum of donations over time from one to the other, to construct a network. I’ll walk you through how to do this in Python, so if you’re new to coding or social network analysis it can serve as a practical introduction to both, and you can have a go yourself. If you’re not interested in the technical stuff then just slip to the end.</p>
<section id="creating-a-pandas-dataframe-from-the-data" class="level3">
<h3 class="anchored" data-anchor-id="creating-a-pandas-dataframe-from-the-data">Creating a Pandas dataframe from the data</h3>
<p>Start by downloading the donations file from the Electoral Commission, which is <a href="https://search.electoralcommission.org.uk/?currentPage=0&amp;rows=10&amp;sort=AcceptedDate&amp;order=desc&amp;tab=1&amp;et=pp&amp;et=ppm&amp;et=tp&amp;et=perpar&amp;et=rd&amp;isIrishSourceYes=true&amp;isIrishSourceNo=true&amp;prePoll=false&amp;postPoll=true&amp;register=gb&amp;register=ni&amp;register=none&amp;optCols=RegisterName&amp;optCols=CampaigningName&amp;optCols=AccountingUnitsAsCentralParty&amp;optCols=IsSponsorship&amp;optCols=IsIrishSource&amp;optCols=RegulatedDoneeType&amp;optCols=CompanyRegistrationNumber&amp;optCols=Postcode&amp;optCols=NatureOfDonation&amp;optCols=PurposeOfVisit&amp;optCols=DonationAction&amp;optCols=ReportedDate&amp;optCols=IsReportedPrePoll&amp;optCols=ReportingPeriodName&amp;optCols=IsBequest&amp;optCols=IsAggregation">here</a>. If you search the whole dataset without adding any search terms you’ll get the whole thing. You’ll then see ‘Export Results’ alongside a CSV icon at the bottom of the page. If you save the CSV file to the same folder that you’re running your Python script from, saving the file as ‘ec_donations.csv’, then everything below should work. You just need to copy all the coding snippets into your script.</p>
<p>That said, you will first need to install the packages we use if you don’t have them installed already (Pandas, NetworkX and Matplotlib). This is usually straightforward, although as is often the case with free software you can sometimes hit a wall and end up with cryptic error codes. If so, some patient Googling, or some lazy AI queries, should get any problems resolved.</p>
<p>First, we’ll create a Pandas dataframe from the CSV of the Electoral Commission file. <a href="https://pandas.pydata.org/docs/">Pandas</a> is a great package to use for this sort of work. A Pandas <code>dataframe</code> is a two dimensional data structure with rows and columns, where your rows will typically be a case, your columns a variable, and each cell a value. So very familiar if you’re used to working in Excel or SPSS. But Pandas is much more flexible and efficient than Excel so if you’ve ever found yourself banging your head against a wall trying to get Excel to do something which seems very straightforward, but which involves madly complicated syntax, or causes Excel to constantly crash, then Pandas is for you. There’s loads of accessible tutorials and since its so widely used, AI tools usually produce very good suggestions.</p>
<p>Here’s our first line of code:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Create a Pandas dataframe from the CSV</span></span>
<span id="cb1-5">all_donations <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ec_donations.csv'</span>)</span></code></pre></div></div>
<p>First, this imports Pandas using the conventional shorthand ‘pd’. This means that every time you want to use a method from Pandas you can use this shorthand, as in the code above where we create a dataframe called <code>all_donations</code> using the <code>pandas.read_csv</code> method, passing the file name (add the location if its somewhere else on your computer). Now we have a dataframe we can work with, let’s do some basic data cleaning.</p>
</section>
<section id="cleaning-the-data" class="level3">
<h3 class="anchored" data-anchor-id="cleaning-the-data">Cleaning the data</h3>
<p>The column recording the value of a donation contains strings that include pound signs and commas. We’re going to combine the value of multiple donations from and to the same donor and donee, so first we need this column to be numeric. In the code below we delete (replace with an empty string) the pound signs and commas. Then we convert the cleaned strings to <code>integers</code>. (In Python there are two data types used for numerical data: <code>integers</code> and <code>floats</code>. They sometimes behave slightly differently, but the key difference is that the former are round numbers and the latter have decimal points.)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb2-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Remove the non-numeric characters from the Value column</span></span>
<span id="cb2-3">all_donations.loc[:, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Value'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb2-4">    all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Value'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'£'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span>)</span>
<span id="cb2-5">    .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">','</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span>)</span>
<span id="cb2-6">    )</span>
<span id="cb2-7"></span>
<span id="cb2-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Convert donation values to integers</span></span>
<span id="cb2-9">all_donations.loc[:, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Value'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.to_numeric(all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Value'</span>], errors<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'coerce'</span>, downcast<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'integer'</span>)</span></code></pre></div></div>
<p>Everything else we’ll use for the network - the name of donors and donees - is a <code>string</code>. They’ll also need some cleaning. One major problem with the Electoral Commission data is that the way donor names are rendered is highly inconsistent, and even the donor ID numbers are not unique to individuals and organisations. For the Autonomy <a href="https://search.electoralcommission.org.uk/?currentPage=0&amp;rows=10&amp;sort=AcceptedDate&amp;order=desc&amp;tab=1&amp;et=pp&amp;et=ppm&amp;et=tp&amp;et=perpar&amp;et=rd&amp;isIrishSourceYes=true&amp;isIrishSourceNo=true&amp;prePoll=false&amp;postPoll=true&amp;register=gb&amp;register=ni&amp;register=none&amp;optCols=RegisterName&amp;optCols=CampaigningName&amp;optCols=AccountingUnitsAsCentralParty&amp;optCols=IsSponsorship&amp;optCols=IsIrishSource&amp;optCols=RegulatedDoneeType&amp;optCols=CompanyRegistrationNumber&amp;optCols=Postcode&amp;optCols=NatureOfDonation&amp;optCols=PurposeOfVisit&amp;optCols=DonationAction&amp;optCols=ReportedDate&amp;optCols=IsReportedPrePoll&amp;optCols=ReportingPeriodName&amp;optCols=IsBequest&amp;optCols=IsAggregation">report</a> we grouped together similar names under a unique reference number, but for this analysis we’ll keep things simple by just stripping any white space and removing some common titles. Below we create a list called ‘remove’ and then get Python to loop through the list, deleting in turn each item in the list from the ‘DonorName’ column.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Clean Donor Name column</span></span>
<span id="cb3-3">all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.strip()</span>
<span id="cb3-4">remove <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'.'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Mr '</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sir '</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Lord '</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Mrs '</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Ms '</span>]</span>
<span id="cb3-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> string <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> remove:</span>
<span id="cb3-6">    all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(string, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span>)</span></code></pre></div></div>
<p>Next we’ll combine data from two of the columns. In the Electoral Commission data there’s a column called ‘RegulatedEntityName’ and another called ‘AccountingUnitName’. The former normally contains the donee name in full, but in the case of local party branches, ‘RegulatedEntityName’ contains the party name, whilst the name of the branch appears in the ‘AccountingUnitName’ column.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Create a new 'donne' column combining the RegulatedEntityName and the accounting unit</span></span>
<span id="cb4-3">all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'donee'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'RegulatedEntityName'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' '</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'AccountingUnitName'</span>].astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>)</span>
<span id="cb4-4"></span>
<span id="cb4-5">all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'donee'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb4-6">    all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'donee'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' nan'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span>)</span>
<span id="cb4-7">    .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Party Central Party'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour (Central Party)'</span>)</span>
<span id="cb4-8">    .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Party '</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span>)</span>
<span id="cb4-9">    )</span></code></pre></div></div>
<p>What the code above does is create a new column in the dataframe called ‘donee’, and then replaces the strings in that column. First we delete the ‘nan’ string which is creating when the ‘AccountingUnitName’ column is empty (‘nan’ is a string created from the non-value when its converted to a string). Then we change the Labour Central Party string that’s created, before removing ‘Labour Party’ from all the constituency names (since they are all Labour Party branches anyway and we don’t wnat really long labels).</p>
<p>In the next step below, we ensure that the different rendering of ‘Labour Together’ in the data are harmonised so they all have the same string value: ‘Labour Together’. Again we’re using the <code>pd.str.replace()</code> method where you pass two string values, the string you want to replace, followed by the string you want to replace it with.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb5-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Harmonise different spellings of Labour Together</span></span>
<span id="cb5-3">all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb5-4">                              all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together LTD'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together'</span>)</span>
<span id="cb5-5">                              .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together Ltd'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together'</span>)</span>
<span id="cb5-6">                              .<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together Limited'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together'</span>)</span>
<span id="cb5-7">                              )</span></code></pre></div></div>
<p>The next step is probably more difficult to make sense of if you’re new to Python or Pandas. What we are doing here is first creating a Pandas <code>Series</code> called ‘filt’. You can think of a Pandas Series as being like a Python <code>list</code> or a single column in a Pandas dataframe. What this code returns is a <code>boolean</code> Series, which is basically a list containing the value <code>True</code> or <code>False</code> in resposne to the condition. What’s important here is that ‘filt’ is the same length as the dataframe we used in the condition, because we’ll then use it to filter locations in that dataframe.</p>
<p>The first ‘filt’ we create below indicates if in that location of the donee column the value is equal to ‘Labour Together’. In the second line of code we create a new Series by filtering the ‘DonorName’ column in the original dataframe with that Series using <code>.loc</code>.</p>
<p>If you pass a boolean Series to <code>.loc</code> like this, what you get back is just the locations where there was a <code>True</code>. In other words, all the rows that don’t meet the original condition are dropped. What this does is create a new Series containing the unique string values of all the donors in the data who have donated to Labour Together. We also drop duplicated values and reset the index (although this isn’t actually necessary for the code to work).</p>
<p>In the second step below we use basically the same method to filter the original dataframe. This time we pass two conditions: whether the donor name is ‘Labour Together’ <em>or</em> the donor name appears in our Series we created in the first step: ‘labour_together_donors’. So what we end up with is a new dataframe that contains only rows with donations from Labour Together, or from a donor that has at some point donated to Labour Together.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb6-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Series of donors to Labour Together</span></span>
<span id="cb6-3">filt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'donee'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together'</span></span>
<span id="cb6-4">labour_together_donors <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>].loc[filt].drop_duplicates().reset_index(drop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb6-5"></span>
<span id="cb6-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Dataframe of Labour Together donors and donees</span></span>
<span id="cb6-7">filt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Labour Together'</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> all_donations[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>].isin(labour_together_donors.values)</span>
<span id="cb6-8">labour_together <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> all_donations.loc[filt]</span></code></pre></div></div>
<p>Finally, in the snippet below we harmonise the two strings used in the data to describe the Blairite organisation Progress, which was renamed Progressive Britain and appears under both names. This is the sort of basic cleaning you can only do by actually inspecting the data.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb7-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Replace string</span></span>
<span id="cb7-3">labour_together[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'donee'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> labour_together[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'donee'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>.replace(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Progressive Britain Ltd (formally Progress Ltd)'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Progress'</span>)</span></code></pre></div></div>
</section>
<section id="creating-an-edge-list-for-the-network" class="level3">
<h3 class="anchored" data-anchor-id="creating-an-edge-list-for-the-network">Creating an edge list for the network</h3>
<p>Okay, now we have filtered the dataset so it contains only the donations we’re interested in, we’re going to create a network from it.</p>
<p>You can think of a network (or graph as its often referred to) as a way of structuring data to reflect real world relationships. Everything in a network/graph is either a <code>node</code> or an <code>edge</code>. A node is a thing. In classic social network analysis it would be an individual, but it could be anything - an inanimate object, a concept, an event. An <code>edge</code> is simply a connection or relationship of some sort between those things. Both nodes and edges can have properties. So if you and I are friends we could be represented by nodes connected by an edge we’d call ‘friends’ (maybe with the date we became friends or length of time we’ve been friends as an edge attribute), and we could each have node properties, which could be anything unique to us not defined by our social relations, like our names or age.</p>
<p>The bare bones of a network is an edge list that contains just the connections. This will contain the IDs of pairs of connected nodes. Node properties or attributes are recorded separately and to keep things simple we’ll stick to just an edge list (the ID of the node here is its name so that can in effect serve as a node attribute).</p>
<p>First, we’ll use Pandas to group all donations between pairs of IDs over time, producing a single figure and a single edge (as opposed to repeat donations between the same pairs). Then we’ll rename these columns, sorting the list from the largest to the smallest sum of donations (again not actually necessary for the coding but I like to keep things ordered).</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb8-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Group by donor and donee, summing values</span></span>
<span id="cb8-3">edge_list <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> labour_together.groupby([<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'donee'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'DonorName'</span>])[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Value'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>().reset_index()</span>
<span id="cb8-4"></span>
<span id="cb8-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Change column names and order</span></span>
<span id="cb8-6">edge_list.columns <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'target'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'source'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weight'</span>]</span>
<span id="cb8-7">edge_list <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> edge_list[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'source'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'target'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weight'</span>]].sort_values(by<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weight'</span>, ascending<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>).reset_index(drop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span></code></pre></div></div>
<p>Now we have the data in a structure we can use to create a network. The donors are the <code>source</code>, the donees are the <code>target</code>, and we have a <code>weight</code> to assign to the <code>edge</code> connecting them that represents the sum of donations from one to the other.</p>
<p>To construct the network we’ll use the Python library <code>NetworkX</code>. It’s not quite as intuitive as Pandas, so making sense of the <a href="https://networkx.org/documentation/stable/reference/introduction.html">documentation</a> if you’re new to coding might take a bit more work. It’s really good though for constructing and restructuring networks, and performing more complex analysis. We’re going to keep things quite basic though and at this point you could export the edge list we’ve created as a CSV file, and then use the free network visualisation programme <a href="https://gephi.org/">Gephi</a> to produce the network. I’ll switch to Gephi in the end anyway to produce the network visualisation, but before that I’ll give a quick demo of how we can produce the network in networkx and export it as a Gephi file.</p>
<p>First, we need to import networkx in the same way that we did Pandas. Just as Pandas is conventionally imported as pd, the conventional shorthand for networkx is nx. With networkx imported we then use its <code>from_pandas_edgelist</code> method to produce our network from our dataframe. In the code snippet below we are creating a new <code>Python</code> object and calling it <code>G</code>. Everything in the brackets is telling networkx what to use or do.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb9-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> networkx <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> nx</span>
<span id="cb9-3"></span>
<span id="cb9-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Create a directed NetworkX graph from the edgelist</span></span>
<span id="cb9-5">G <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> nx.from_pandas_edgelist(edge_list, source<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'source'</span>, target<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'target'</span>, edge_attr<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weight'</span>, create_using<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>nx.DiGraph)</span></code></pre></div></div>
<p>First, we are telling networkx the name of the dataframe we want to use. Then we are telling it which columns to use for the source and target of the network (which we’ve already called source and target), as well as what to assign as an edge attribute (which will be the value of the donations between the pair of nodes). Finally, we are telling networkx which graph type to produce.</p>
<p>In networkx there are different types of networks/graphs. The basic type is undirected. This means that the direction of the connections in the network doesn’t have any meaning and so it doesn’t matter whether the things connected are in the source or the target column. Choosing which graph type to use just depends on the sort of data you have and the sort of network you want to create. Say, for example, that we were creating a classic social network where people are connected if they know eachother. If I know you then you know me. So no need for a directed network. But even in this kind of network a direction might make sense. Say I consider you a friend, but the feeling isn’t mutual. One way of approaching that is that we’d only create an edge between us if you considered me a friend as well. But then we lose some data. We might want to capture my unreciprocated feeling in the network so we can gauge how delusional and unpopular I am. For this we need a directed network.</p>
<p>In the case of our data, giving and receiving a donation are clearly not the same thing, so we want a directed network. That’s why we use <code>DiGraph</code>, which is one of the two types of directed networks in networkx. There’s another type of directed graph called a <code>MultiDiGraph</code>. The difference between the two is that the latter allows multiple edges between two nodes. So were we to use a <code>MultiDiGraph</code>, we could have several edges between donors and donees, each with a different value. We could also include other data associated with the donation, such as the donation date and type (e.g.&nbsp;cash, accommodation etc). To keep things simple though, we’ve already summed all the donations in the data between pairs of donors and donees.</p>
<p>We could have still preserved that additional data by adding a list of donation dates and types as an edge attribute. This is where networkx comes into its own. It allows for lots of flexibility in how networks are constructed. Generally, the way to think about all this is you want a network that allows you to answer a specific question or set of questions about the relational social structure or process you are trying to capture. In the end a network is a model of what is happening in the real world and what we get out of it analytically depends on what we put in - and of course it is dependent on the quality of data we use to capture those real world processes or structures in the first place.</p>
</section>
<section id="filtering-the-network" class="level3">
<h3 class="anchored" data-anchor-id="filtering-the-network">Filtering the network</h3>
<p>The code above produces for me a network with 190 nodes and 250 edges. If you’re running it on a newer version of the Electoral Commission data you might get a larger network. Since the goal here is to reveal a core network of donors and donees, we’re going to use a couple of methods to strip away a lot of these nodes. First we’ll lose some of the donors and donees only associated with relatively small sums. The code below drops any nodes that have donated or received a total of less than £5K (in this network). It first creates a list of nodes that have incoming or outgoing edges with a weight of 5000 or more. Then it creates a subgraph from the original network called <code>G_5000</code> that contains only nodes in that list. For me, that drops just 18 nodes from the original network.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb10-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Create a new graph/network containing only nodes with in degree or out degree of 5000</span></span>
<span id="cb10-3">nodes_to_keep <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [</span>
<span id="cb10-4">    n <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> n <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> G.nodes()</span>
<span id="cb10-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> G.in_degree(n, weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5000</span></span>
<span id="cb10-6">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">or</span> G.out_degree(n, weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5000</span></span>
<span id="cb10-7">]</span>
<span id="cb10-8">G_5000 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> G.subgraph(nodes_to_keep).copy()</span></code></pre></div></div>
<p>The next step is a bit more technical. We’ll use a method called ‘K-Core Decomposition’. Like a lot of methods in network analysis, this can be a little difficult to get your head round at first, but is actually very simple. A straightforward way of stripping away at the network would be to drop any nodes with only one connection (which in relational terms makes them less significant). But if you do this you will often be left with new peripheral nodes that previously had more than one connection, but now have only one because their ‘neighbour’ in the original network was dropped. Say for example we had someone who donated to Labour Together and to two MPs who themselves have received no money from any other Labour Together donors. Those two MPs would be dropped and the donor would have only its donation to Labour Together remaining. With ‘K-Core Decomposition’, the rich donor would then be removed as well. It will keep doing this until every node in the subnetwork has at least <em>k</em> connections remaining, so you’re left with a dense subnetwork of nodes with that many connections. This is easy to implement. Here’s the <a href="https://networkx.org/documentation/stable/reference/algorithms/generated/networkx.algorithms.core.k_core.html">documentation</a>. The code below produces our k-core with <em>k</em> set as 2. For me this produces a new subnetwork with 50 nodes. You can set <em>k</em> higher if you want a denser subnetwork. For the data I’m using, setting <em>k</em> as 3 returns a subnetwork of just 19 nodes, which is the highest value that <em>k</em> can have without the network collapsing altogether.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb11-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Create k-core subnetwork</span></span>
<span id="cb11-3">core_network <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> nx.k_core(G_5000, k<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>).copy()</span></code></pre></div></div>
</section>
<section id="visualising-the-network" class="level3">
<h3 class="anchored" data-anchor-id="visualising-the-network">Visualising the Network</h3>
<p>Now we have a core network which can show us the relationship between donees who have received two or more donations from Labour Together donors (or one from Labour Together itself and another from a Labour Together donor). For a relatively small network like this, rather than producing statistics on the network structure we are going to produce an accessible visualisation with labels that makes the network qualitatively interpretable. NetworkX <em>can</em> produce good network visualisations, but its not really where its strengths lie and there are lots of other Python packages you can use that are better. One I was using a while back that was really good is called <a href="https://pyvis.readthedocs.io/en/latest/tutorial.html">pyvis</a>, which I’ll maybe demonstrate in another post. For now I’ll just show you quickly the basics of drawing a network in NetworkX using the Python plotting library, <code>matplotlib</code>.</p>
<p>The code below first imports the <code>pyplot</code> submodule of <code>matplotlib</code> as plt. The first thing we do is define a Python object called ‘pos’ which defines the layout of the nodes (using the standard spring layout). Then the size and colour etc of the nodes and edges are defined. If you want you can try playing around with this to get a feel for things.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb12-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Dictionary of node positions using spring layout</span></span>
<span id="cb12-5">pos <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> nx.spring_layout(core_network, seed<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>)</span>
<span id="cb12-6"></span>
<span id="cb12-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Plot the nodes</span></span>
<span id="cb12-8">plt.figure(figsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>))</span>
<span id="cb12-9">nx.draw_networkx_nodes(</span>
<span id="cb12-10">    core_network,</span>
<span id="cb12-11">    pos,</span>
<span id="cb12-12">    node_size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,</span>
<span id="cb12-13">    node_color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>,</span>
<span id="cb12-14">)</span>
<span id="cb12-15"></span>
<span id="cb12-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Plot the edges</span></span>
<span id="cb12-17">nx.draw_networkx_edges(</span>
<span id="cb12-18">    core_network,</span>
<span id="cb12-19">    pos,</span>
<span id="cb12-20">    edge_color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gray"</span>,</span>
<span id="cb12-21">    arrows<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>,</span>
<span id="cb12-22">    arrowsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb12-23">    width<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb12-24">)</span>
<span id="cb12-25"></span>
<span id="cb12-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Show plot</span></span>
<span id="cb12-27">plt.show()</span></code></pre></div></div>
<p>Below is the figure this produces. It does give a basic indication of the network structure (with the donees around the periphery of the figure), but not much else, as we don’t even have any labels.</p>
<p><img src="https://github.com/tamills1981/society-from-the-top-down/posts/labour-together-donor-network/networkx_fig.jpeg" class="img-fluid"></p>
<p>We could spend time working on this; adding labels, changing the node size and colour and so on. But this is quite fiddly. A much easier way to produce visualisations for a network like this is using the aforementioned free programme <a href="https://gephi.org/">Gephi</a>. Gephi is great for producing network visualisations. Its really user friendly and you can do loads of statistical analysis and filtering in it too. So if you’re new to network analysis and don’t need to do anything too technical, then it’s got everything you need.</p>
<p>I won’t spend any time introducing you to Gephi in this post. But below is the snippet of code that exports our network as a file you can open directly in Gephi, which then allows you to customise the visualisation till you’re happy with it.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb13-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#Export as Gephi file</span></span>
<span id="cb13-3">nx.write_gexf(core_network, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'core_network.gexf'</span>)</span></code></pre></div></div>
<p>In the visualisation below, I’ve coloured the nodes according to whether they are donors or donees, sized them according to the sum of their edge weights, and shortened some of the labels from the original data (so e.g.&nbsp;Sir Keir Starmer MP appears just as Keir Starmer).</p>
<p><img src="https://github.com/tamills1981/society-from-the-top-down/posts/labour-together-donor-network/labour_together_network.jpeg" class="img-fluid"></p>
<p>Worth remembering that this network doesn’t necessarily include the most significant individual donors to Labour Together (or to the other politicians adn organisations in the network), because an individual could make a very large donation to Labour Together and not feature. But is useful for revealing the network of donees connected by these donors. As you would expect given that the whole network was constructed around it, Labour Together is at the centre. And as you can see from the visualisation, it includes many key members of Starmer’s Cabinet. Starmer himself of course. The Chancellor Rachel Reeves, the Health Secretary Wes Streeting, David Lammy, Lisa Nandy, Liz Kendall and the former Deputy Prime Minister, Angela Rayner. Since the network includes historical donations, the network also includes some former figureheads of the Labour Right: David Miliband, who was their favourite for leader at one point, but tragically lost to his brother Ed, and Owen Smith (remember him?).</p>
<p>There are also a few now defunct political organisations set up by the Labour Right: Labour Tomorrow Ltd, Saving Labour and Movement for Change, which was originally founded by David Miliband. What you can also see from the network is donations from right-wing donors supporting particular constituency parties, presumably to support an MP or Parliamentary candidate aligned with Labour’s right-wing faction.</p>
<p>Its a relatively small network, but the sums changing hands are not insignificant (at least for British politics). We can calculate this in networkx using the code snippet below.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```python</span></span>
<span id="cb14-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(</span>
<span id="cb14-3">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>(</span>
<span id="cb14-4">    edge_data[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weight'</span>]</span>
<span id="cb14-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> source, target, edge_data <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> core_network_edges(data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb14-6">))</span></code></pre></div></div>
<p>For my network, this gives a figure of £28,739,432. Whilst there may be some double counting, since Labour Together gives and receives donations, this is a lot. For context, consider that according to the Electoral Commission, the spending limit for a party contesting every seat in England a General Election is £29,327,430, and this is just the money changing hands at the core network of this political faction.</p>


</section>

 ]]></description>
  <category>politics</category>
  <category>python</category>
  <category>network analysis</category>
  <category>networkx</category>
  <category>elites</category>
  <guid>https://github.com/tamills1981/society-from-the-top-down/posts/labour-together-donor-network/</guid>
  <pubDate>Mon, 19 Jan 2026 00:00:00 GMT</pubDate>
  <media:content url="https://github.com/tamills1981/society-from-the-top-down/posts/labour-together-donor-network/networkx-logo.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Welcome!</title>
  <link>https://github.com/tamills1981/society-from-the-top-down/posts/welcome/</link>
  <description><![CDATA[ 





<p><img src="https://github.com/tamills1981/society-from-the-top-down/posts/welcome/profile.jpeg" class="img-fluid"></p>
<p>Welcome to Society from the Top Down. In case you don’t know, I’m Tom Mills, a sociologist and socialist in the UK. This is a new website where I will post my general thoughts on social science and society and politics, work in progress, half-formed ideas, and little bits of research that never become, or never found their way into, books or articles.</p>
<p>Been meaning to set up a website for some time, but work commitments always got in the way. This year I decided to finally get my act together, with the hope that it will give me more focus, rather than being an unsustainable time sink. We’ll see I guess.</p>
<p>I called it <strong>Society from the Top Down</strong> (a title shamelessly ripped off Blair Fix’s interesting website/blog <a href="https://economicsfromthetopdown.com/">Economics from the top down</a>) because I’m mainly interested in researching elites these days. But I’ll also post about other things related to work, but not quite work, like media power, UK politics, sociological methods and computational social science. Will try and resist the urge to post about cooking and my cat, but can’t promise anything.</p>



 ]]></description>
  <guid>https://github.com/tamills1981/society-from-the-top-down/posts/welcome/</guid>
  <pubDate>Wed, 14 Jan 2026 00:00:00 GMT</pubDate>
</item>
</channel>
</rss>
